<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta ame="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Outfit', sans-serif;
        }

        .font-poppins {
            font-family: 'Poppins', sans-serif !important;
        }

        /* Header States: Scrolled or Mobile Open */
        header.is-scrolled,
        header.is-mobile-open {
            background-color: #642E13 !important;
            background-image: none !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        header.is-scrolled {
            height: 80px !important;
        }

        header.is-mobile-open {
            height: auto !important;
        }

        @media (min-width: 768px) {
            header.is-scrolled {
                height: 96px !important;
            }
        }

        /* Dual Range Slider Styles */
        .wrapper {
            position: relative;
            width: 100%;
            height: 40px;
        }

        .container-slider {
            position: relative;
            width: 100%;
            height: 5px;
            background-color: #D4B896;
            margin-top: 10px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 100%;
            outline: none;
            position: absolute;
            margin: auto;
            top: 0;
            bottom: 0;
            background-color: transparent;
            pointer-events: none;
        }

        .slider-track {
            width: 100%;
            height: 5px;
            position: absolute;
            margin: auto;
            top: 0;
            bottom: 0;
            border-radius: 5px;
        }

        input[type="range"]::-webkit-slider-runnable-track {
            -webkit-appearance: none;
            height: 5px;
        }

        input[type="range"]::-moz-range-track {
            -moz-appearance: none;
            height: 5px;
        }

        input[type="range"]::-ms-track {
            appearance: none;
            height: 5px;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 1.2rem;
            width: 1.2rem;
            background-color: #8B4513;
            cursor: pointer;
            margin-top: -7px;
            pointer-events: auto;
            border-radius: 50%;
        }

        input[type="range"]::-moz-range-thumb {
            /* -webkit-appearance: none; */
            height: 1.2rem;
            width: 1.2rem;
            cursor: pointer;
            border-radius: 50%;
            background-color: #8B4513;
            pointer-events: auto;
            border: none;
        }

        input[type="range"]::-ms-thumb {
            appearance: none;
            height: 1.2rem;
            width: 1.2rem;
            cursor: pointer;
            border-radius: 50%;
            background-color: #8B4513;
            pointer-events: auto;
        }

        input[type="range"]:active::-webkit-slider-thumb {
            background-color: #ffffff;
            border: 3px solid #8B4513;
        }
    </style>

</head>

<body>

    <!-- RESPONSIVE HEADER -->
    <header
        class="bg-[#642E13] md:bg-transparent md:bg-gradient-to-b md:from-[#642E13] md:via-[#642E13]/80 md:to-transparent w-full fixed top-0 z-50 font-poppins transition-all duration-500 md:h-[190px] h-20">
        <div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20 md:h-24">

                <!-- Logo -->
                <a href="../Home/Home.html" class="flex-shrink-0">
                    <img src="../Assets/Home/Logo-Gajendhra.png"
                        onerror="this.src='https://placehold.co/50x50/FDF5ED/5D3420?text=GV'" alt="Gajendra Vilas"
                        class="h-10 w-10 md:h-20 md:w-20 rounded-full object-cover border-2 border-white/20">
                </a>

                <nav id="main-nav" class="hidden md:flex items-center gap-1 lg:gap-10 flex-grow justify-center">
                    <!-- Menu will be rendered here by MenuRenderer -->
                </nav>

                <!-- Right Icons -->
                <div class="flex items-center gap-3 md:gap-4">
                    <!-- Wishlist -->
                    <button onclick="openWishlist()"
                        class="text-white hover:opacity-80 transition-opacity p-1 relative">
                        <img src="../Assets/images/wishlist.png" alt="Wishlist" class="h-5 w-5 md:h-6 md:w-6">
                        <span data-wishlist-badge
                            class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                    </button>
                    <!-- Cart -->
                    <button onclick="openCart()" class="text-white hover:opacity-80 transition-opacity p-1 relative">
                        <img src="../Assets/images/cart.png" alt="Cart" class="h-5 w-5 md:h-6 md:w-6">
                        <span data-cart-badge
                            class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                    </button>
                    <!-- User Dropdown -->
                    <div class="relative">
                        <button id="user-menu-btn" onclick="toggleUserMenu(event)"
                            class="text-white hover:opacity-80 transition-opacity p-1">
                            <img src="../Assets/images/profile.png" alt="User" class="h-5 w-5 md:h-6 md:w-6">
                        </button>
                        <!-- Dropdown Menu -->
                        <div id="user-dropdown"
                            class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50">
                            <a href="../Auth/login.html"
                                class="block px-4 py-2 text-sm text-[#3E1C00] hover:bg-[#FDF5ED] transition-colors">Login</a>
                            <a href="../Auth/register.html"
                                class="block px-4 py-2 text-sm text-[#3E1C00] hover:bg-[#FDF5ED] transition-colors">Register</a>
                            <a href="../Auth/my-account.html"
                                class="block px-4 py-2 text-sm text-[#3E1C00] hover:bg-[#FDF5ED] transition-colors">My
                                Account</a>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden text-white p-1" onclick="toggleMobileMenu()">
                        <img src="../Assets/Home/icon-menu.png" alt="Menu" class="h-6 w-6">
                    </button>
                </div>
            </div>

            <!-- Mobile Navigation -->
            <nav id="mobile-menu" class="md:hidden hidden pb-4">
                <div id="mobile-menu-items" class="flex flex-col gap-3 pt-2 border-t border-white/20">
                    <!-- Populated by MenuRenderer -->
                </div>
            </nav>
        </div>
    </header>

    <!-- SHOP HERO SECTION -->
    <section class="relative w-full h-[420px] md:h-[500px] lg:h-[560px] overflow-hidden">

        <!-- Background Image -->
        <img src="../Assets/images/shop_banner.webp" alt="Shop Banner"
            class="absolute inset-0 w-full h-full object-cover" style="object-position: 20% 25%;">

        <!-- Bottom Left Gradient Overlay (same design style as home page) -->
        <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/50 to-transparent"></div>

        <!-- Content -->
        <div class="relative z-10 h-full flex flex-col justify-end px-6 md:px-10 lg:px-20 pb-10">
            <h1 class="font-poppins text-white text-3xl md:text-4xl lg:text-[42px] font-semibold mb-2">
                Shop
            </h1>

            <p class="font-poppins text-white text-sm md:text-base max-w-xl opacity-90 leading-relaxed">
                Choose from our freshly prepared sweets, savouries, and bakery products crafted for everyday moments and
                celebrations.
            </p>
        </div>

    </section>

    <!-- FILTER AND PRODUCT SECTION -->
    <section id="shopResultsSection" class="w-full bg-[#FDF5ED] font-poppins py-10 md:py-16">
        <div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-10">

                <!-- SIDEBAR FILTERS (Left Column) -->
                <aside class="w-full lg:w-1/4 flex-shrink-0 space-y-8">

                    <!-- Header -->
                    <div class="border-b border-[#D4B896] pb-4">
                        <h2 class="text-2xl font-bold text-[#3E1C00]">Filter Options</h2>
                    </div>

                    <!-- Categories -->
                    <div>
                        <h3 class="text-xl font-bold text-[#3E1C00] mb-4">By Categories</h3>
                        <div class="space-y-4" id="categorySidebar">

                        </div>
                    </div>

                    <div class="border-t border-[#D4B896] pt-6"></div>

                    <!-- Price Filter -->
                    <div>
                        <h3 class="text-xl font-bold text-[#3E1C00] mb-4">Price</h3>
                        <div class="flex items-center justify-between mb-2">
                            <input type="number" id="minPriceInput"
                                class="w-20 bg-transparent border border-[#D4B896] text-xs p-1 rounded focus:outline-none"
                                value="0">
                            <span class="text-[#3E1C00] text-xs">to</span>
                            <input type="number" id="maxPriceInput"
                                class="w-20 bg-transparent border border-[#D4B896] text-xs p-1 rounded focus:outline-none"
                                value="5000">
                        </div>

                        <div class="wrapper">
                            <div class="container-slider">
                                <div class="slider-track" id="sliderTrack"></div>
                                <input type="range" min="0" max="5000" value="0" id="slider-1">
                                <input type="range" min="0" max="5000" value="5000" id="slider-2">
                            </div>
                        </div>

                        <button id="applyPriceFilter"
                            class="mt-2 w-full text-xs bg-[#8B4513] text-white py-2 rounded font-medium hover:bg-[#3E1C00] transition-colors">Apply
                            Price Filter</button>
                    </div>

                    <div class="border-t border-[#D4B896] pt-6"></div>

                    <!-- Seasonal Product -->
                    <div id="bestSellerSliderSection">
                        <h3 class="text-xl font-bold text-[#3E1C00] mb-6">Best Seller</h3>
                        <div id="bestSellerSliderContainer">
                            <!-- Dynamic Best Seller Slider will be loaded here -->
                            <div class="col-span-full text-center py-10">
                                <div
                                    class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#B06D36]">
                                </div>
                            </div>
                        </div>
                    </div>

                </aside>

                <!-- MAIN CONTENT (Right Column) -->
                <main class="w-full lg:w-3/4">

                    <!-- Top Toolbar -->
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                        <p class="text-[#3E1C00]/80 text-sm">Showing 1-12 of 100 results</p>

                        <div class="flex items-center gap-4 w-full md:w-auto">
                            <!-- Live Search -->
                            <div class="relative flex-grow md:flex-grow-0 group z-30">
                                <div
                                    class="absolute left-4 top-1/2 -translate-y-1/2 text-[#3E1C00] pointer-events-none transition-transform group-focus-within:scale-[1.15]">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                </div>
                                <input type="text" id="shopSearchInput" placeholder="Search products..."
                                    class="w-full md:w-80 border border-[#642E13]/20 rounded-full py-2.5 pl-11 pr-4 bg-white text-[#3E1C00] text-sm focus:outline-none focus:ring-4 focus:ring-[#642E13]/10 focus:border-[#642E13] transition-all placeholder-[#3E1C00]/40 font-medium shadow-sm">

                                <!-- Search Suggestions Dropdown -->
                                <div id="searchSuggestions"
                                    class="hidden absolute left-0 right-0 mt-3 bg-white rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] z-[100] border border-gray-100/50 overflow-hidden max-h-[300px] overflow-y-auto transform origin-top transition-all duration-300">
                                    <!-- Suggestions will be injected here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Active Filters -->
                    <div class="flex flex-wrap items-center gap-3 mb-8" id="activeFiltersSection">
                        <span class="text-[#3E1C00] font-semibold text-lg mr-2">Active Filter</span>

                        <div id="activeFiltersContainer" class="flex flex-wrap gap-2">
                            <!-- Dynamic filter tags will be inserted here -->
                        </div>

                        <button id="clearAllFilters"
                            class="text-[#3E1C00] underline text-sm hover:text-[#8B4513] ml-2 hidden">Clear
                            all</button>
                    </div>

                    <!-- Product Grid -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="productGrid">
                        <!-- Dynamic content will be loaded here via shop.js -->
                        <div class="col-span-full text-center py-20">
                            <div
                                class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#B06D36]">
                            </div>
                            <p class="mt-4 text-[#3E1C00] font-medium">Loading products...</p>
                        </div>
                    </div>

                    <!-- Pagination -->
                    <div class="flex justify-center items-center gap-4 mt-12 mb-8 font-poppins">
                        <!-- Previous Button -->
                        <button class="text-[#3E1C00] hover:text-[#B06D36] p-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7" />
                            </svg>
                        </button>

                        <!-- Page Numbers -->
                        <div class="flex items-center gap-4">
                            <!-- Active Page -->
                            <button
                                class="w-10 h-10 rounded-full bg-[#8B4513] text-white flex items-center justify-center font-medium shadow-md">1</button>

                            <!-- Other Pages -->
                            <button
                                class="w-10 h-10 rounded-full text-[#3E1C00] hover:bg-[#FDF5ED] flex items-center justify-center font-medium transition-colors">2</button>
                            <button
                                class="w-10 h-10 rounded-full text-[#3E1C00] hover:bg-[#FDF5ED] flex items-center justify-center font-medium transition-colors">3</button>
                            <button
                                class="w-10 h-10 rounded-full text-[#3E1C00] hover:bg-[#FDF5ED] flex items-center justify-center font-medium transition-colors">4</button>

                            <span class="text-[#3E1C00] font-medium tracking-widest">....</span>

                            <button
                                class="w-10 h-10 rounded-full text-[#3E1C00] hover:bg-[#FDF5ED] flex items-center justify-center font-medium transition-colors">10</button>
                        </div>

                        <!-- Next Button -->
                        <button class="text-[#3E1C00] hover:text-[#B06D36] p-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>


                </main>
            </div>
        </div>
    </section>

    <!-- SHOP FOOTER SECTION -->
    <footer class="w-full bg-white font-poppins pt-0">

        <!-- TOP DECORATIVE BORDER -->
        <img src="https://placehold.co/1600x40" alt="Footer Top Design" class="w-full object-cover" />

        <!-- MAIN FOOTER CONTENT -->
        <div class="max-w-7xl mx-auto px-6 md:px-10 lg:px-16 py-12">

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-10">

                <!-- Menus -->
                <div>
                    <h3 class="text-[#3E1C00] font-semibold text-lg mb-4">Menus</h3>
                    <ul class="space-y-2 text-[#3E1C00]/90 text-sm">
                        <li>Home</li>
                        <li>About us</li>
                        <li>Shop</li>
                        <li>Contact us</li>
                    </ul>
                </div>

                <!-- Savouries -->
                <div>
                    <h3 class="text-[#3E1C00] font-semibold text-lg mb-4">Savouries</h3>
                    <ul class="space-y-2 text-[#3E1C00]/90 text-sm">
                        <li>Sev</li>
                        <li>Murugu</li>
                        <li>Mixture</li>
                        <li>Masala Kaju Mathri</li>
                        <li>Chips</li>
                    </ul>
                </div>

                <!-- Sweets -->
                <div>
                    <h3 class="text-[#3E1C00] font-semibold text-lg mb-4">Sweets</h3>
                    <ul class="space-y-2 text-[#3E1C00]/90 text-sm">
                        <li>Soan papdi</li>
                        <li>Laddu</li>
                        <li>Kaaju Sweets</li>
                        <li>Jilabi</li>
                        <li>Halwa</li>
                        <li>General Sweets</li>
                        <li>Bengali Sweets</li>
                        <li>Barfi</li>
                        <li>Badusha</li>
                    </ul>
                </div>

                <!-- My Account -->
                <div>
                    <h3 class="text-[#3E1C00] font-semibold text-lg mb-4">My Account</h3>
                    <ul class="space-y-2 text-[#3E1C00]/90 text-sm">
                        <li>Wishlist</li>
                        <li>My Order</li>
                        <li>Profile</li>
                    </ul>
                </div>

                <!-- Contact Us -->
                <div>
                    <h3 class="text-[#3E1C00] font-semibold text-lg mb-4">Contact Us</h3>

                    <div class="flex items-start space-x-3 mb-3">
                        <span class="text-[#B06D36] text-lg">üìç</span>
                        <p class="text-[#3E1C00]/90 text-sm">
                            11/200 xxx, yy, Thirunelveli,<br>Tamilnadu
                        </p>
                    </div>

                    <div class="flex items-center space-x-3 mb-4">
                        <span class="text-[#B06D36] text-lg">üìû</span>
                        <p class="text-[#3E1C00]/90 text-sm">1234567890</p>
                    </div>

                    <!-- Social Icons -->
                    <div class="flex items-center space-x-4 text-[#3E1C00] text-xl">
                        <a href="#"><i class="fa-brands fa-instagram text-pink-600"></i></a>
                        <a href="#"><i class="fa-brands fa-facebook text-blue-700"></i></a>
                        <a href="#"><i class="fa-brands fa-youtube text-red-600"></i></a>
                    </div>
                </div>

            </div>

            <!-- LINE DIVIDER -->
            <div class="w-full h-px bg-[#9a7a5a]/40 mt-10"></div>

            <!-- COPYRIGHT -->
            <p class="text-center text-[#3E1C00]/80 text-sm mt-4">
                Copyright ¬© 2025 Gajendra vilas. All rights reserved.
            </p>

        </div>

    </footer>

    <script type="module" src="../Assets/js/shop/main.js"></script>
    <script type="module" src="../Assets/js/utils/cartPopupManager.js"></script>
    <script type="module" src="../Assets/js/utils/wishlistPopupManager.js"></script>
    <script src="../components/popups.js"></script>
</body>

</html>